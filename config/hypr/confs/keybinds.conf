############
# KEYBINDS #
############

$mainMod = ALT

# Custom Variables
$scriptsDir = $HOME/.config/hypr/scripts
$wallpaper = $scriptsDir/Wallpaper.sh
$wallpaperSelect = $scriptsDir/WallpaperSelect.sh
$power_menu = $scriptsDir/powermenu.sh
$terminal = kitty
$file_man = dolphin
$terminal_file_man = yazi
$rofi-emoji = $scriptsDir/rofi-emoji.sh
$help = $scriptsDir/keybinds.sh
$volumeCTRL = $scriptsDir/volumecontrol.sh
$apps = $scriptsDir/apps.sh

# Key Binds Help
bind = $mainMod SHIFT, SLASH, exec, $help

bind = $mainMod, T, exec, $terminal --title main
bind = $mainMod SHIFT, T, exec, $terminal --title floating

bind = $mainMod, E, exec, $file_man
bind = $mainMod SHIFT, E, exec, kitty --title $terminal_file_man -e $terminal_file_man # open yazi

bind = $mainMod, Q, killactive,
bind = $mainMod SHIFT, Q, exit,

bind = $mainMod, R, exec, $scriptsDir/menu.sh || pkill rofi
bind = $mainMod SHIFT, R, exec, $rofi-emoji
bind = $mainMod CTRL SHIFT, R, exec, $scriptsDir/rofi_theme.sh

# Change Wallpapers, theme
bind = $mainMod, W, exec, $wallpaper
bind = $mainMod SHIFT, W, exec, $wallpaperSelect thm1
bind = $mainMod CTRL SHIFT, W, exec, $wallpaperSelect thm2
bind = $mainMod CTRL SHIFT, T, exec, $scriptsDir/theme_select.sh

bind = $mainMod, B, exec, $scriptsDir/browser.sh op # open brave or chromium
bind = $mainMod + CTRL + SHIFT, B, exec,$scriptsDir/default_browser.sh --reset # reset default browser

bind = $mainMod, C, exec, $scriptsDir/cliphist.sh c #clipboard manager
bind = $mainMod CTRL SHIFT, C, exec, $scriptsDir/cliphist.sh w #clipboard wipe

bind = $mainMod, ESCAPE, exec, wlogout -b 2 --layout ~/.config/wlogout/layout_2 --css ~/.config/wlogout/style_2.css
bind = $mainMod SHIFT, ESCAPE, exec, wlogout -b 6 --layout ~/.config/wlogout/layout --css ~/.config/wlogout/style.css
bind = $mainMod CTRL SHIFT, ESCAPE, exec, hyprctl reload && notify-send "Done" "Hyprland reload" # reload hyprland

bind = $mainMod, SEMICOLON, exec, $scriptsDir/waybar-layout.sh
bind = $mainMod SHIFT, SEMICOLON, exec, $scriptsDir/waybar-reload.sh --reload # reload waybar
bind = $mainMod CTRL SHIFT, SEMICOLON, exec, $scriptsDir/waybar-reload.sh --toggle # hide and start waybar

bind = $mainMod, GRAVE, exec, hyprlock
#bind = $mainMod ALT, l, exec, $scriptsDir/hyprlock.sh
bind = $mainMod SHIFT, GRAVE, exec, $scriptsDir/toggle_dark_light.sh

bind = $mainMod SHIFT, U, exec, $scriptsDir/systemupdate.sh --update # update system
bind = $mainMod CTRL SHIFT, U, exec, kitty --title browser sh -c "$scriptsDir/hyprconf-v2.sh" # update hyprconf-v2
bind = $mainMod CTRL SHIFT, D, exec, kitty sh -c "$scriptsDir/uninstall.sh"

bind = $mainMod, S, exec, kitty --title browser sh -c "$scriptsDir/settings.sh"

# re-generate colors if the ~/.cache/wal directory has been deleted
bind = $mainMod CTRL SHIFT, COMMA, exec, notify-send "Colors" "Re-generating colors." && $scriptsDir/pywal.sh

bind = $mainMod SHIFT, F, fullscreen,
bind = $mainMod, V, togglefloating,
bind = $mainMod SHIFT, V, pseudo, # dwindle
bind = $mainMod CTRL SHIFT, V, exec, hyprctl dispatch workspaceopt allfloat
bind = $mainMod SHIFT, I, togglesplit # only works on dwindle layout
#bind = $mainMod, G, togglegroup
#bind = $mainMod, M, exec, hyprctl dispatch splitratio 0.3

# switch window
bind = $mainMod, Tab, exec, rofi -show window -theme ~/.config/rofi/themes/rofi-window.rasi
# bind = $mainMod, Tab, exec, hyprswitch gui --mod-key super --key tab --max-switch-offset 9 --hide-active-window-border
# Move focus 
bind = $mainMod, K, cyclenext, 
bind = $mainMod, J, cyclenext, prev
#bind = $mainMod, L, movefocus, r
#bind = $mainMod, H, movefocus, l
#bind = $mainMod, K, movefocus, u
#bind = $mainMod, J, movefocus, d

#move with keys
bind = $mainMod SHIFT, J, swapnext
bind = $mainMod SHIFT, K, swapnext, prev

#resize with keys
bindel = $mainMod SHIFT, L, resizeactive, 40 0
bindel = $mainMod SHIFT, H, resizeactive, -40 0
#bindel = $mainMod SHIFT, k, resizeactive, 0 -20
#bindel = $mainMod SHIFT, j, resizeactive, 0 20

# Audio control
bind = , F9, exec, $volumeCTRL --toggle # toggle audio mute
bind = , F10, exec, $volumeCTRL --dec # decrease volume
bind = , F11, exec, $volumeCTRL --inc # increase volume


# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10
bind = $mainMod, MINUS, togglespecialworkspace, magic # special workspace (scratchpad)

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10
bind = $mainMod SHIFT, MINUS, movetoworkspacesilent, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows 
#with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow


# Screenshot
bind = ,print, exec, $scriptsDir/screenshot.sh
# hyprsunset
bind = $mainMod, F1, exec, $scriptsDir/nightlight.sh --dec  # night light
bind = $mainMod, F2, exec, $scriptsDir/nightlight.sh --inc # day light
bind = $mainMod, F3, exec, $scriptsDir/nightlight.sh --def # default value
# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
# brightness
bind = , F4, exec, $scriptsDir/brightness.sh up
bind = , F3, exec, $scriptsDir/brightness.sh down
# brightness control for Laptop Keys
bind = , XF86MonBrightnessUP, exec, $scriptsDir/brightness.sh up
bind = , XF86MonBrightnessDOWN, exec, $scriptsDir/brightness.sh down
# sound controls for laptop keys, requires playerctl
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# pyprland related
#bind = $mainMod, A, exec, pypr toggle term                  # toggles the "term" scratchpad visibility
#bind = $mainMod SHIFT, B, exec, pypr expose                 # exposes every window temporarily or "jump" to the fucused one
#bind = $mainMod SHIFT, J, exec, pypr change_workspace -1          # alternative multi-monitor workspace switcher
#bind = $mainMod SHIFT, K, exec, pypr change_workspace +1          # alternative multi-monitor workspace switcher
#bind = $mainMod, N, exec, pypr toggle_special minimized     # toggle a window from/to the "minimized" special workspace
#bind = $mainMod SHIFT, N, togglespecialworkspace, minimized   # toggle the "minimized" special workspace visibility
#bind = $mainMod SHIFT, O, exec, pypr shift_monitors +1      # swaps workspaces between monitors
#bind = $mainMod SHIFT, Z, exec, pypr zoom ++0.5             # zooms in the focused workspace
#bind = $mainMod, Z, exec, pypr zoom                         # toggle zooming

# Desktop zooming or magnifier
#bind = $mainMod SHIFT, mouse_down, exec, hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | awk 'NR==1 {factor = $2; if (factor < 1) {factor = 1}; print factor * 2.0}')"
#bind = $mainMod SHIFT, mouse_up, exec, hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | awk 'NR==1 {factor = $2; if (factor < 1) {factor = 1}; print factor / 2.0}')" 

# + N | toggle special minimized (pyprland)
# + SHIFT + N | toggle minimized (pyprland)
# + SHIFT + O | shift monitor (pyprland)
# + SHIFT + Z | ++ zoom
# + Z | zoom
